/* ===== SCOPE & QUICK TWEAKS ===== */
#cb-subscribe-scope { all: initial; display: inline-block; }
#cb-subscribe-scope {
  --star-size: 300px;
  --label-size: 1.00rem;
  --pink: #CA36AE;
  --yellow: #FFE07D;
}
#cb-subscribe-scope, #cb-subscribe-scope * { box-sizing: border-box; font-family: inherit; }

#cb-subscribe-scope .cb-inline { display: inline-flex; gap:.75rem; align-items:center; vertical-align:middle; }
@media (max-width:640px){ #cb-subscribe-scope .cb-inline{ display:inline-block; margin-top:.5rem;} }

/* Star (rotated), morphs to card */
#cb-subscribe-scope .cb-star{
  width: var(--star-size); height: var(--star-size);
  background: var(--pink); color:#fff; box-shadow:0 4px 14px rgba(0,0,0,.15);
  display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
  position:relative; overflow:hidden; border:none;
  transform: rotate(45deg);
  clip-path: polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
  transition: width .4s ease, height .4s ease, border-radius .4s ease,
              clip-path .25s ease, box-shadow .2s ease, background .2s ease;
}

/* Pulse when collapsed */
#cb-subscribe-scope .cb-inline[aria-expanded="false"] .cb-star{
  animation: cb-pulse 3s ease-in-out infinite, cb-glow 3s ease-out infinite;
}
@media (prefers-reduced-motion: reduce){
  #cb-subscribe-scope .cb-inline[aria-expanded="false"] .cb-star{ animation: none; }
}
#cb-subscribe-scope .cb-inline[aria-expanded="false"] .cb-star:hover{ transform: rotate(45deg) scale(1.04); }

@keyframes cb-pulse{ 0%{transform:rotate(45deg) scale(1)} 50%{transform:rotate(45deg) scale(1.06)} 100%{transform:rotate(45deg) scale(1)} }
@keyframes cb-glow{ 0%{box-shadow:0 0 0 0 rgba(202,54,174,.45)} 70%{box-shadow:0 0 0 22px rgba(202,54,174,0)} 100%{box-shadow:0 0 0 0 rgba(202,54,174,0)} }

/* Upright, centered label */
#cb-subscribe-scope .cb-label{
  transform: rotate(-45deg) translate(2%, -4%);
  display:inline-block; pointer-events:none;
  font-weight:800; font-size: var(--label-size);
  text-align:center; line-height:1.15;
  max-width:72%;
  letter-spacing:.02em;
  white-space:normal; word-break:break-word;
  transition: opacity .2s ease;
}

/* Expanded: narrower pink box, centered content */
#cb-subscribe-scope[aria-expanded="true"] .cb-star{
  width: auto;
  max-width: 360px; /* was 540px */
  margin: 0 auto;
  height:auto;
  padding:1rem 1.1rem;
  border-radius:16px;
  transform:none;
  clip-path:none;
  animation:none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: width .4s ease, height .4s ease, border-radius .4s ease,
              clip-path .25s ease, box-shadow .2s ease, background .2s ease, transform 0s;
}
#cb-subscribe-scope[aria-expanded="true"] .cb-label{ opacity:0; }

#cb-subscribe-scope .cb-card-inner{ display:none; }
#cb-subscribe-scope[aria-expanded="true"] .cb-card-inner{ display:block; }

#cb-subscribe-scope .cb-form{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.6rem;
  width:100%;
}
#cb-subscribe-scope .cb-heading{
  font-weight:700;
  color:#fff;
  margin-bottom:.25rem;
  text-align:center;
}

/* inputs/buttons */
#cb-subscribe-scope input[type="text"],
#cb-subscribe-scope input[type="email"]{
  width:90%;
  padding:.7rem .9rem;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:1rem;
  background:#fff;
  color:#2c2c2c;
}
#cb-subscribe-scope button[type="submit"]{
  align-self:center;
  background:var(--yellow);
  color:#2c2c2c;
  border:none;
  padding:.65rem 1rem;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
}

/* ===== Success Modal (Star Pop-up) ===== */
#cb-subscribe-scope .cb-thanks-backdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.5);
  display: none;
  align-items: center; justify-content: center;
  z-index: 999999;
}
#cb-subscribe-scope .cb-thanks-backdrop[aria-hidden="false"]{ display:flex; }

#cb-subscribe-scope .cb-thanks-star{
  background: var(--pink);
  color: #fff;
  /* bigger size */
  width: min(90vw, 420px);
  height: min(90vw, 420px);
  display: flex; align-items: center; justify-content: center;
  text-align: center; padding: 1.4rem;
  clip-path: polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
  transform: rotate(45deg) scale(.9);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  position: relative;
  animation: cb-pop .28s ease-out forwards;
}

#cb-subscribe-scope .cb-thanks-star > .cb-thanks-inner{
  transform: rotate(-45deg);
  display: flex; flex-direction: column; gap: .4rem;
  align-items: center; justify-content: center;
}
#cb-subscribe-scope .cb-thanks-title{
  font-weight: 800; font-size: 1.25rem; line-height: 1.2;
}
#cb-subscribe-scope .cb-thanks-msg{
  font-size: 1rem;
  opacity: .95;
}
#cb-subscribe-scope .cb-thanks-close{
  position: absolute; top: -10px; right: -10px;
  width: 38px; height: 38px; border-radius: 50%;
  border: none; background: var(--yellow); color: #2c2c2c;
  font-weight: 800; cursor: pointer;
  transform: rotate(-45deg);
  box-shadow: 0 4px 12px rgba(0,0,0,.25);
}
@keyframes cb-pop{
  0% { transform: rotate(45deg) scale(.9); opacity: 0; }
  100%{ transform: rotate(45deg) scale(1);   opacity: 1; }
}
